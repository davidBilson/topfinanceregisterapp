<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Sign Up</title>
    <style>
        body {
            padding: 0 20px;
        }
        @media (max-width:600px)
        {
        
        }
    </style>
</head>
<body>
    <section class="login-section">
        <header>
            <h1>Sign Up</h1>
        </header>
        <div class="login-panel">
            <form id="form"> 
                <label for="username">Username</label>
                <input autocomplete="on" type="username" id="uusername" class="inputs" placeholder="Enter your username" required>
                <label for="email">Email</label><br>
                <input autocomplete="on" class="inputs" type="email" name="email" id="eemail" placeholder="janedoe@email.com" required><br>
                <label for="password">Password</label><br>
                <input autocomplete="on" class="inputs" type="password" name="password" id="ppassword" placeholder="password" required><br>
                <button class="loginBtn" id="signUp" type="submit">Sign Up</button>
            </form>
            <a href="./login.html">Already have an account yet? Login here</a>
        </div>
    </section>
    
    
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.1/firebase-app.js";
        import { getDatabase } from "https://www.gstatic.com/firebasejs/9.9.1/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.9.1/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyARCd056AfMuUn67jWiHCTQUzf2eVPCqfM",
          authDomain: "signuptopfinance.firebaseapp.com",
          databaseURL: "https://signuptopfinance-default-rtdb.firebaseio.com",
          projectId: "signuptopfinance",
          storageBucket: "signuptopfinance.appspot.com",
          messagingSenderId: "251085703386",
          appId: "1:251085703386:web:a7fd3bdf55122c591bbde3"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth();

        let signUp = document.getElementById('signUp');
        signUp.addEventListener('click', (e)=>{
            let username = document.getElementById('uusername').value;
            let email = document.getElementById('eemail').value;
            let password = document.getElementById('ppassword').value;

        createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
        // Signed in 
        const user = userCredential.user;
        alert('user created');
        // ...
        })
        .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;

        alert(errorMessage);
        // ..
        });

        })
      </script>
    <script src="./app.js"></script>
</body>
</html>